{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\demo\\src\\views\\dh\\xs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\demo\\src\\views\\dh\\xs.vue","mtime":1612499806935},{"path":"C:\\Users\\lenovo\\Desktop\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\demo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQge3NoYW5nICwgY2hheHVuLGRhdGFNb2RpZnl9IGZyb20gJy4uLy4uL2h0dHAvaW5kZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgbGlzdDp7DQogICAgICAgIHBhZ2VOdW06MSwNCiAgICAgICAgcGFnZVNpemU6MTANCiAgICAgIH0sDQoNCiAgICAgIHVzZXJMaXN0OltdLA0KICAgICAgbXNnOiIiLA0KDQogICAgICBvcHRpb25zOlt7DQogICAgICAgICAgdmFsdWU6ICdpZCcsDQogICAgICAgICAgbGFiZWw6ICfmjInnhafnlKjmiLdpZOafpeivoicsDQogICAgICB9LA0KICAgICAgDQogICAgICB7DQogICAgICAgICAgdmFsdWU6ICduYW1lJywNCiAgICAgICAgICBsYWJlbDogJ+aMieeFp+eUqOaIt+WQjeWtl+afpeivoicsDQogICAgICB9XSwNCg0KICAgICAgaW5wdXQ6JycsDQogICAgICB0eXBlOiIiLA0KICAgICAgdG90YWw6MA0KICAgIH0NCiAgICANCiAgfSwNCg0KICAgIG1vdW50ZWQoKXsNCiAgICAgICB0aGlzLnNoYW5nTGlzdCgpDQogICAgfSwNCg0KICBtZXRob2RzOnsNCiAgICBhc3luYyBzaGFuZ0xpc3QoKXsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNoYW5nKA0KICAgICAgICBgL2FwaS9wcm9kdWN0L2xpc3QuZG8/cGFnZU51bT0ke3RoaXMubGlzdC5wYWdlTnVtfWANCiAgICAgICkNCiAgDQogICAgICAvLyBjb25zb2xlLmxvZyhyZXMpDQoNCiAgICAgIHRoaXMudXNlckxpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3QNCg0KICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWwNCiAgfSwNCg0KICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCl7DQogICAgICB0aGlzLmxpc3QucGFnZU51bSA9IHZhbA0KICAgICAgdGhpcy5zaGFuZ0xpc3QoKQ0KICB9LA0KDQogIG9uZ29vZHMoaWQpeyAvLyDor6bmg4UNCiAgICAvLyBjb25zb2xlLmxvZyhpZCkNCiAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICBwYXRoOicvb25nb29kcycsDQogICAgICBxdWVyeTp7DQogICAgICAgIGlkDQogICAgICB9DQogICAgfSkNCiAgfSwNCg0KICBvbk1vZGlmeShpZCl7IC8vIOe8lui+kQ0KICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgIHBhdGg6Jy9tb2RpZnknLA0KICAgICAgcXVlcnk6e2lkfQ0KICAgIH0pDQogIH0sDQoNCg0KICBhZGRMaXN0KCl7DQogICAgdmFyIGluZGV4ID0gdGhpcy5tc2dbMF0NCg0KICAgICAgaWYoaW5kZXggPT0gJ25hbWUnKXsNCiAgICAgICAgICB0aGlzLnR5cGUgPSAicHJvZHVjdE5hbWUiDQogICAgICAgICAgY2hheHVuKHsNCiAgICAgICAgICAgIC8vIOWwseebuOW9k+S6juS4gOS4quWxnuaAp+WQjeWtlyAg5LiA5Liq5bGe5oCn5YC8DQogICAgICAgICAgICBbdGhpcy50eXBlXTp0aGlzLmlucHV0DQogICAgICAgICAgfSkudGhlbihyZXM9PnsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgIHRoaXMudXNlckxpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3QNCg0KICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWwNCiAgICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICBpZihpbmRleCA9PSAnaWQnKXsNCiAgICAgICAgdGhpcy50eXBlID0gJ3Byb2R1Y3RJZCcNCiAgICAgICAgLy8ge3Byb2R1Y3RJZDp0aGlzLmlucHV0fSAvL+WwseaYr+imgeepv+eahOWxnuaAp+WQjeensCAg5ZCO6Z2i5Yqg55qE5YC8DQogICAgICAgIGNoYXh1biggIHsgW3RoaXMudHlwZV06dGhpcy5pbnB1dCB9ICApLnRoZW4ocmVzPT57DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzLmRhdGEuZGF0YS5saXN0DQogICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsDQogICAgICAgIH0pDQogICAgICB9DQogIH0sICANCg0KICBvbmNoYW5nZSh2YWwpew0KICAgIHRoaXMubXNnID0gdmFsDQogICAgLy8gY29uc29sZS5sb2codmFsKQ0KICB9LA0KDQogIG9udXBBbmREb3duKGl0ZW0pew0KICAgIGNvbnNvbGUubG9nKGl0ZW0pDQogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbkuIrmnrbllYblk4EsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6Jywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgLy8g5Ye95pWw6LCD55SoICAgLy8g5ZWG5ZOB5LiK5LiL5p625o6l5Y+jICANCiAgICAgICAgICBkYXRhTW9kaWZ5KHsNCiAgICAgICAgICAgICAgcHJvZHVjdElkOml0ZW0uaWQsDQogICAgICAgICAgICAgIC8vIOS4iuaetiDmmK8gMSAgIOS4i+aetiDmmK8gMiANCiAgICAgICAgICAgICAgc3RhdHVzOml0ZW0uc3RhdHVzPT0xPzI6MQ0KICAgICAgICAgICAgICAgICAgICAgLy8g5q+U5aaC6K+0ICDkvaDngrnnmoQg5piv5LiK5p62IOmCo+S5iOWwseaYryAxICAg5aaC5p6c5pivMeeahOivnSAg5bCx5Y+WIDIg5LiL5p62ICAgIOWcqOWmguaenOS4jeetieS6jjEg55qE6K+dICDpgqPkuYjlsLHljrvkuIrmnrYgIA0KICAgICAgICAgIH0pLnRoZW4ocmVzPT57DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgICAgICBzaGFuZyggLy8g6K+35rGC5a6M5LmL5ZCOICDph43mlrDor7fmsYLmiYDmnInliJfooajmlbDnu4QgIOmHjeaWsOa4suafkyANCiAgICAgICAgICAgICAgYC9hcGkvcHJvZHVjdC9saXN0LmRvP3BhZ2VOdW09JHt0aGlzLmxpc3QucGFnZU51bX1gDQogICAgICAgICAgICApLnRoZW4ocmVzMT0+ew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMxKQ0KICAgICAgICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzMS5kYXRhLmRhdGEubGlzdDsNCg0KICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzMS5kYXRhLmRhdGEudG90YWwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnnirbmgIHmiJDlip8nDQogICAgICAgICAgfSk7DQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtognDQogICAgICAgICAgfSk7ICAgICAgICAgIA0KICAgICAgICB9KTsNCiAgfSwNCmFkZExpc3R1c2VyKCl7DQogIHRoaXMuJHJvdXRlci5wdXNoKCcvYWRkTGlzdCcpDQp9DQoNCn0sDQoNCg0KICBmaWx0ZXJzOnsNCiAgICAvLyBmbHRlclN0YXRlKHZhbCl7DQogICAgLy8gICAgIGlmKHZhbCA9PSAiMSIpew0KICAgIC8vICAgICAgICAgcmV0dXJuICflt7LkuIvmnrYnDQogICAgLy8gICAgIH0gDQoNCiAgICAvLyAgICAgaWYodmFsID09ICcyJyl7DQogICAgLy8gICAgICAgICByZXR1cm4gJ+WcqOWUricNCiAgICAvLyAgICAgfQ0KICAgIC8vIH0NCg0KDQogICAgdHlwZTEodmFsKXsNCiAgICAgIHJldHVybiB2YWwgPT0gMSA/ICflnKjllK4nIDon5bey5LiL5p62Jw0KICAgIH0sDQoNCiAgICB0eXBlMih2YWwpew0KICAgICAgcmV0dXJuIHZhbCA9PSAxID8n5LiL5p62JyA6J+S4iuaeticNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["xs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"xs.vue","sourceRoot":"src/views/dh","sourcesContent":["<template>\r\n  <div>\r\n      <div class=\"item_headers\">\r\n          <div> <h3>商品管理</h3> </div>\r\n          <div> <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addListuser\">添加商品</el-button> </div>\r\n      </div>\r\n\r\n      <div class=\"item_main_container\">\r\n          <el-cascader :options=\"options\" clearable @change=\"onchange\"></el-cascader>\r\n\r\n          <el-input v-model=\"input\" class=\"input\" placeholder=\"请输入内容\"></el-input>\r\n\r\n          <el-button type=\"primary\" @click=\"addList\">查询</el-button>\r\n      </div>\r\n\r\n<div class=\"item_table\">\r\n <el-table\r\n      :data=\"userList\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"ID\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"信息\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"price\"\r\n        label=\"价格\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        label=\"状态\">\r\n         <template slot-scope=\"scope\">\r\n           <div class=\"item_button\">\r\n              <div @click=\"setStatus\"> \r\n                {{scope.row.status | type1 }} \r\n              </div>\r\n              <button @click=\"onupAndDown(scope.row)\">{{scope.row.status | type2}}</button>\r\n           </div>\r\n         </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        label=\"操作\"\r\n        >\r\n       <template slot-scope=\"scope\">\r\n         <el-button type=\"text\" @click=\"ongoods(scope.row.id)\">查看</el-button>\r\n\r\n        <el-button type=\"text\" @click=\"onModify(scope.row.id)\">编辑</el-button>\r\n       </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  <div class=\"block\">\r\n    <span class=\"demonstration\">直接前往</span>\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      layout=\"prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport {shang , chaxun,dataModify} from '../../http/index'\r\nexport default {\r\n  data(){\r\n    return {\r\n      list:{\r\n        pageNum:1,\r\n        pageSize:10\r\n      },\r\n\r\n      userList:[],\r\n      msg:\"\",\r\n\r\n      options:[{\r\n          value: 'id',\r\n          label: '按照用户id查询',\r\n      },\r\n      \r\n      {\r\n          value: 'name',\r\n          label: '按照用户名字查询',\r\n      }],\r\n\r\n      input:'',\r\n      type:\"\",\r\n      total:0\r\n    }\r\n    \r\n  },\r\n\r\n    mounted(){\r\n       this.shangList()\r\n    },\r\n\r\n  methods:{\r\n    async shangList(){\r\n      const res = await shang(\r\n        `/api/product/list.do?pageNum=${this.list.pageNum}`\r\n      )\r\n  \r\n      // console.log(res)\r\n\r\n      this.userList = res.data.data.list\r\n\r\n      this.total = res.data.data.total\r\n  },\r\n\r\n  handleCurrentChange(val){\r\n      this.list.pageNum = val\r\n      this.shangList()\r\n  },\r\n\r\n  ongoods(id){ // 详情\r\n    // console.log(id)\r\n    this.$router.push({\r\n      path:'/ongoods',\r\n      query:{\r\n        id\r\n      }\r\n    })\r\n  },\r\n\r\n  onModify(id){ // 编辑\r\n    this.$router.push({\r\n      path:'/modify',\r\n      query:{id}\r\n    })\r\n  },\r\n\r\n\r\n  addList(){\r\n    var index = this.msg[0]\r\n\r\n      if(index == 'name'){\r\n          this.type = \"productName\"\r\n          chaxun({\r\n            // 就相当于一个属性名字  一个属性值\r\n            [this.type]:this.input\r\n          }).then(res=>{\r\n            // console.log(res)\r\n            this.userList = res.data.data.list\r\n\r\n            this.total = res.data.data.total\r\n          })\r\n      }\r\n\r\n      if(index == 'id'){\r\n        this.type = 'productId'\r\n        // {productId:this.input} //就是要穿的属性名称  后面加的值\r\n        chaxun(  { [this.type]:this.input }  ).then(res=>{\r\n          console.log(res)\r\n           this.userList = res.data.data.list\r\n           this.total = res.data.data.total\r\n        })\r\n      }\r\n  },  \r\n\r\n  onchange(val){\r\n    this.msg = val\r\n    // console.log(val)\r\n  },\r\n\r\n  onupAndDown(item){\r\n    console.log(item)\r\n      this.$confirm('此操作将上架商品, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          // 函数调用   // 商品上下架接口  \r\n          dataModify({\r\n              productId:item.id,\r\n              // 上架 是 1   下架 是 2 \r\n              status:item.status==1?2:1\r\n                     // 比如说  你点的 是上架 那么就是 1   如果是1的话  就取 2 下架    在如果不等于1 的话  那么就去上架  \r\n          }).then(res=>{\r\n            console.log(res)\r\n            shang( // 请求完之后  重新请求所有列表数组  重新渲染 \r\n              `/api/product/list.do?pageNum=${this.list.pageNum}`\r\n            ).then(res1=>{\r\n              console.log(res1)\r\n              this.userList = res1.data.data.list;\r\n\r\n              this.total = res1.data.data.total\r\n            })\r\n          })\r\n          this.$message({\r\n            type: 'success',\r\n            message: '修改状态成功'\r\n          });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          });          \r\n        });\r\n  },\r\naddListuser(){\r\n  this.$router.push('/addList')\r\n}\r\n\r\n},\r\n\r\n\r\n  filters:{\r\n    // flterState(val){\r\n    //     if(val == \"1\"){\r\n    //         return '已下架'\r\n    //     } \r\n\r\n    //     if(val == '2'){\r\n    //         return '在售'\r\n    //     }\r\n    // }\r\n\r\n\r\n    type1(val){\r\n      return val == 1 ? '在售' :'已下架'\r\n    },\r\n\r\n    type2(val){\r\n      return val == 1 ?'下架' :'上架'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.item_headers {\r\n  width: 100%;\r\n  height: 10vh;\r\n  display: inline-flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #000;\r\n}\r\n\r\n.item_main_container {\r\n  width: 35%;\r\n  height: 10vh;\r\n  display: inline-flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.input {\r\n  width: 200px;\r\n  margin: 10px;\r\n}\r\n\r\n.item_table{\r\n  width: 100%;\r\n  height: 70vh;\r\n  /* overflow: auto; */\r\n}\r\n\r\n.block {\r\n  width: 100%;\r\n  height: 20vh;\r\n\r\n}\r\n\r\n.item_button {\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 40%;\r\n}\r\n\r\n.item_button button {\r\n  background-color: orange;\r\n  border: none;\r\n  outline: none;\r\n}\r\n</style>"]}]}