{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\ele后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\ele后台\\src\\views\\dh\\xs.vue?vue&type=style&index=0&id=f87f9088&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\ele后台\\src\\views\\dh\\xs.vue","mtime":1611817663000},{"path":"C:\\Users\\lenovo\\Desktop\\ele后台\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\ele后台\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\ele后台\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\ele后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\ele后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouaXRlbV9oZWFkZXJzIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTB2aDsNCiAgZGlzcGxheTogaW5saW5lLWZsZXg7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgcGFkZGluZzogMTBweDsNCiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7DQp9DQoNCi5pdGVtX21haW5fY29udGFpbmVyIHsNCiAgd2lkdGg6IDM1JTsNCiAgaGVpZ2h0OiAxMHZoOw0KICBkaXNwbGF5OiBpbmxpbmUtZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIHBhZGRpbmc6IDEwcHg7DQp9DQoNCi5pbnB1dCB7DQogIHdpZHRoOiAyMDBweDsNCiAgbWFyZ2luOiAxMHB4Ow0KfQ0KDQouaXRlbV90YWJsZXsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogNzB2aDsNCiAgLyogb3ZlcmZsb3c6IGF1dG87ICovDQp9DQoNCi5ibG9jayB7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDIwdmg7DQoNCn0NCg0KLml0ZW1fYnV0dG9uIHsNCiAgZGlzcGxheTogaW5saW5lLWZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICB3aWR0aDogNDAlOw0KfQ0KDQouaXRlbV9idXR0b24gYnV0dG9uIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlOw0KICBib3JkZXI6IG5vbmU7DQogIG91dGxpbmU6IG5vbmU7DQp9DQo="},{"version":3,"sources":["xs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"xs.vue","sourceRoot":"src/views/dh","sourcesContent":["<template>\r\n  <div>\r\n      <div class=\"item_headers\">\r\n          <div> <h3>商品管理</h3> </div>\r\n          <div> <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addListuser\">添加商品</el-button> </div>\r\n      </div>\r\n\r\n      <div class=\"item_main_container\">\r\n          <el-cascader :options=\"options\" clearable @change=\"onchange\"></el-cascader>\r\n\r\n          <el-input v-model=\"input\" class=\"input\" placeholder=\"请输入内容\"></el-input>\r\n\r\n          <el-button type=\"primary\" @click=\"addList\">查询</el-button>\r\n      </div>\r\n\r\n<div class=\"item_table\">\r\n <el-table\r\n      :data=\"userList\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"ID\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"信息\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"price\"\r\n        label=\"价格\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        label=\"状态\">\r\n         <template slot-scope=\"scope\">\r\n           <div class=\"item_button\">\r\n              <div> \r\n                {{scope.row.status | type1 }} \r\n              </div>\r\n              <button @click=\"onupAndDown(scope.row)\">{{scope.row.status | type2}}</button>\r\n           </div>\r\n         </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        label=\"操作\"\r\n        >\r\n       <template slot-scope=\"scope\">\r\n         <el-button type=\"text\" @click=\"ongoods(scope.row.id)\">查看</el-button>\r\n\r\n        <el-button type=\"text\" @click=\"onModify(scope.row.id)\">编辑</el-button>\r\n       </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  <div class=\"block\">\r\n    <span class=\"demonstration\">直接前往</span>\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      layout=\"prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport {shang , chaxun,dataModify} from '../../http/index'\r\nexport default {\r\n  data(){\r\n    return {\r\n      list:{\r\n        pageNum:1,\r\n        pageSize:10\r\n      },\r\n\r\n      userList:[],\r\n      msg:\"\",\r\n\r\n      options:[{\r\n          value: 'id',\r\n          label: '按照用户id查询',\r\n      },\r\n      \r\n      {\r\n          value: 'name',\r\n          label: '按照用户名字查询',\r\n      }],\r\n\r\n      input:'',\r\n      type:\"\",\r\n      total:0\r\n    }\r\n    \r\n  },\r\n\r\n    mounted(){\r\n       this.shangList()\r\n    },\r\n\r\n  methods:{\r\n    async shangList(){\r\n      const res = await shang(\r\n        `/api/product/list.do?pageNum=${this.list.pageNum}`\r\n      )\r\n  \r\n      // console.log(res)\r\n\r\n      this.userList = res.data.data.list\r\n\r\n      this.total = res.data.data.total\r\n  },\r\n\r\n  handleCurrentChange(val){\r\n      this.list.pageNum = val\r\n      this.shangList()\r\n  },\r\n\r\n  ongoods(id){ // 详情\r\n    // console.log(id)\r\n    this.$router.push({\r\n      path:'/ongoods',\r\n      query:{\r\n        id\r\n      }\r\n    })\r\n  },\r\n\r\n  onModify(id){ // 编辑\r\n    this.$router.push({\r\n      path:'/modify',\r\n      query:{id}\r\n    })\r\n  },\r\n\r\n\r\n  addList(){\r\n    var index = this.msg[0]\r\n\r\n      if(index == 'name'){\r\n          this.type = \"productName\"\r\n          chaxun({\r\n            // 就相当于一个属性名字  一个属性值\r\n            [this.type]:this.input\r\n          }).then(res=>{\r\n            // console.log(res)\r\n            this.userList = res.data.data.list\r\n\r\n            this.total = res.data.data.total\r\n          })\r\n      }\r\n\r\n      if(index == 'id'){\r\n        this.type = 'productId'\r\n        // {productId:this.input} //就是要穿的属性名称  后面加的值\r\n        chaxun(  { [this.type]:this.input }  ).then(res=>{\r\n          console.log(res)\r\n           this.userList = res.data.data.list\r\n           this.total = res.data.data.total\r\n        })\r\n      }\r\n  },  \r\n\r\n  onchange(val){\r\n    this.msg = val\r\n    // console.log(val)\r\n  },\r\n\r\n  onupAndDown(item){\r\n    console.log(item)\r\n      this.$confirm('此操作将上架商品, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          // 函数调用   // 商品上下架接口  \r\n          dataModify({\r\n              productId:item.id,\r\n              // 上架 是 1   下架 是 2 \r\n              status:item.status==1?2:1\r\n                     // 比如说  你点的 是上架 那么就是 1   如果是1的话  就取 2 下架    在如果不等于1 的话  那么就去上架  \r\n          }).then(res=>{\r\n            console.log(res)\r\n            shang( // 请求完之后  重新请求所有列表数组  重新渲染 \r\n              `/api/product/list.do?pageNum=${this.list.pageNum}`\r\n            ).then(res1=>{\r\n              console.log(res1)\r\n              this.userList = res1.data.data.list;\r\n\r\n              this.total = res1.data.data.total\r\n            })\r\n          })\r\n          this.$message({\r\n            type: 'success',\r\n            message: '修改状态成功'\r\n          });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          });          \r\n        });\r\n  },\r\naddListuser(){\r\n  this.$router.push('/addList')\r\n}\r\n\r\n},\r\n\r\n\r\n  filters:{\r\n    // flterState(val){\r\n    //     if(val == \"1\"){\r\n    //         return '已下架'\r\n    //     } \r\n\r\n    //     if(val == '2'){\r\n    //         return '在售'\r\n    //     }\r\n    // }\r\n\r\n\r\n    type1(val){\r\n      return val == 1 ? '在售' :'已下架'\r\n    },\r\n\r\n    type2(val){\r\n      return val == 1 ?'下架' :'上架'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.item_headers {\r\n  width: 100%;\r\n  height: 10vh;\r\n  display: inline-flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #000;\r\n}\r\n\r\n.item_main_container {\r\n  width: 35%;\r\n  height: 10vh;\r\n  display: inline-flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.input {\r\n  width: 200px;\r\n  margin: 10px;\r\n}\r\n\r\n.item_table{\r\n  width: 100%;\r\n  height: 70vh;\r\n  /* overflow: auto; */\r\n}\r\n\r\n.block {\r\n  width: 100%;\r\n  height: 20vh;\r\n\r\n}\r\n\r\n.item_button {\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 40%;\r\n}\r\n\r\n.item_button button {\r\n  background-color: orange;\r\n  border: none;\r\n  outline: none;\r\n}\r\n</style>"]}]}